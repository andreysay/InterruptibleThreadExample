This example based on the listing 9.9 from the book "C++ Concurency in Action, Second Edition"
